<header class="navbar">
    <div class="logo">Homey</div>
    <div class="nav-links">
        <span>Find my Agent <span class="badge-new">NEW</span></span>
        <span>New Projects</span>
    </div>
</header>

<section class="search-bar">
    <div class="search-inputs">
        <button class="dropdown-btn">Buy ‚ñæ</button>
        <input type="text" placeholder="Enter location" class="location-input">
        <div class="status-toggles">
            <button>All</button>
            <button>Ready</button>
            <button class="active">Off-Plan</button>
        </div>
        <button class="dropdown-btn">Residential ‚ñæ</button>
        <button class="dropdown-btn">Beds & Baths ‚ñæ</button>
        <button class="filter-btn">More Filters ‚öô</button>
    </div>
</section>

<div class="main-container">

    <div class="property-list">
        <div class="list-header">
            <h1>Properties for sale in Egypt</h1>
            <div class="view-controls">
                <span class="sort-label">Popular ‚ñæ</span>
                <div class="view-toggle">
                    <button class="active">List</button>
                    <button>Map</button>
                </div>
            </div>
        </div>

        @for (prop of sortedProperties; track prop.id) {
        <div class="property-card" [class.premium-border]="prop.adType === 'Premium'"
            [routerLink]="['/propertyview', prop.id]" style="cursor: pointer">

            <div class="card-image">
                <img [src]="prop.imageUrl" [alt]="prop.title">
                <span class="status-tag">{{ prop.status }}</span>
                <div class="image-overlay-icons">
                    <i class="heart-icon">‚ô•</i>
                </div>
            </div>

            <div class="card-details">

                <div class="details-header">
                    <div class="price-section">
                        <h2 class="price">{{ prop.price | currency: prop.currency :'symbol':'1.0-0' }}</h2>
                        @if (prop.monthlyInstallment) {
                        <span class="installment-tag">Monthly: {{ prop.monthlyInstallment | number }}
                            {{prop.currency}}</span>
                        }
                    </div>

                    @switch (prop.adType) {
                    @case ('Premium') { <span class="badge premium">SIGNATURE</span> }
                    @case ('Featured') { <span class="badge featured">HOT</span> }
                    }
                </div>

                <div class="specs-row">
                    <span class="prop-type">{{ prop.type }}</span>
                    <span class="spec-item"><i class="icon-bed">üõè</i> {{ prop.bedrooms }}</span>
                    <span class="spec-item"><i class="icon-bath">üõÅ</i> {{ prop.bathrooms }}</span>
                    <span class="spec-item"><i class="icon-area">üìê</i> {{ prop.area }} Sq. M.</span>
                </div>

                <p class="prop-title">{{ prop.title }}</p>
                <p class="prop-desc">{{ prop.description }}</p>

                <div class="prop-location">
                    <i class="icon-pin">üìç</i> {{ prop.location }}
                </div>

                <div class="card-footer">
                    <div class="action-buttons">
                        <button class="btn-email">‚úâ Email</button>
                        <button class="btn-call">üìû Call</button>
                        <button class="btn-whatsapp">üí¨ Whatsapp</button>
                    </div>
                    <img [src]="prop.agentLogoUrl" alt="Agent Logo" class="agent-logo">
                </div>

            </div>
        </div>
        } @empty {
        <p>No properties found matching your criteria.</p>
        }
    </div>

    <aside class="sidebar">
        <div class="drive-time-card">
            <div class="card-content">
                <img src="assets/home-illustration.jpg" alt="Homey Drive Time" class="drive-img">
                <h3>Find Homes by Drive Time</h3>
                <p>Search for properties based on commute time.</p>
            </div>
        </div>
    </aside>

</div>