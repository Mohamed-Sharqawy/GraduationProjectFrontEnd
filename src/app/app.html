<!-- Top Bar -->
<div class="bg-[#fcfcfc] border-b border-gray-200 text-xs py-2 text-gray-500 font-sans">
  <div class="max-w-[1140px] mx-auto px-4 flex justify-between items-center">
    <div class="flex gap-4 items-center cursor-pointer hover:text-gray-700"
      (click)="translationService.toggleLanguage()">
      <span><i class="fa fa-globe"></i> {{ 'COMMON.LANGUAGE_BTN' | translate }}</span>
    </div>
    <div class="flex gap-4 items-center cursor-pointer hover:text-gray-700">
      @if (authService.currentUser()) {
      <!-- Agent: Show Profile Link -->
      @if (isAgent()) {
      <a routerLink="/user-profile"
        class="text-gray-700 font-semibold no-underline hover:text-green-600 cursor-pointer"><i class="fa fa-user"></i>
        {{ 'NAV.WELCOME' | translate }}, {{
        authService.currentUser()?.fullName }}</a>
      }
      <!-- Owner: Show Saved Properties Link -->
      @if (isOwner()) {
      <a routerLink="/saved-properties"
        class="text-gray-700 font-semibold no-underline hover:text-green-600 cursor-pointer"><i class="fa fa-heart"></i>
        {{ 'NAV.SAVED_PROPERTIES' | translate }}</a>
      <span class="text-gray-500">|</span>
      <span class="text-gray-700 font-semibold"><i class="fa fa-user"></i> {{ 'NAV.WELCOME' | translate }}, {{
        authService.currentUser()?.fullName }}</span>
      }
      <button (click)="logout()"
        class="text-gray-500 hover:text-red-500 transition-colors bg-transparent border-none cursor-pointer">
        <i class="fa fa-sign-out"></i> {{ 'NAV.LOGOUT' | translate }}
      </button>
      } @else {
      <a routerLink="/login" class="no-underline text-gray-500 hover:text-gray-700"><i class="fa fa-user"></i> {{
        'NAV.LOGIN' | translate }}
      </a>
      }
    </div>
  </div>
</div>

<!-- Navbar -->
<nav class="bg-white py-4 font-sans border-b border-transparent">
  <div class="max-w-[1140px] mx-auto px-4 flex justify-between items-center">
    <!-- Logo -->
    <a routerLink="/" class="flex items-center gap-1.5 text-2xl font-bold text-[#28b16d] cursor-pointer no-underline">
      <span
        class="bg-[#28b16d] text-white rounded-full w-[30px] h-[30px] flex items-center justify-center text-lg">H</span>
      Homey
    </a>

    <!-- Nav Links -->
    <div class="flex items-center gap-6 font-semibold text-gray-800">
      <a routerLink="/find-my-agent"
        class="no-underline hover:text-[#28b16d] transition-colors relative flex items-center gap-1">
        {{ 'NAV.FIND_AGENT' | translate }}
        <!-- <span class="bg-red-500 text-white text-[9px] px-1.5 rounded-[3px] align-top">NEW</span> -->
      </a>
      <!-- Show Dashboard only for Agents -->
      @if (isAgent()) {
      <a routerLink="/user-profile" routerLinkActive="text-[#28b16d]"
        class="no-underline hover:text-[#28b16d] transition-colors relative flex items-center gap-1 cursor-pointer">
        {{ 'NAV.DASHBOARD' | translate }}
      </a>

      }
      <a routerLink="/listingproperties" class="no-underline hover:text-[#28b16d] transition-colors">{{ 'NAV.PROPERTIES'
        | translate }}</a>
    </div>
  </div>
</nav>

<router-outlet>

</router-outlet>

<!-- Global Footer -->
<app-footer></app-footer>

<!-- Floating WhatsApp Button -->
<div class="fixed bottom-6 right-6 z-50 flex flex-col items-end gap-2 group">
  <!-- Tooltip -->
  <div
    class="bg-gray-800 text-white text-xs px-3 py-1.5 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none mb-1 whitespace-nowrap">
    For any help
  </div>

  <!-- Button -->
  <a href="https://wa.me/201099298412" target="_blank"
    class="bg-[#25D366] hover:bg-[#128C7E] text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg transform transition-all duration-300 hover:scale-110 no-underline">
    <i class="fab fa-whatsapp text-3xl"></i>
  </a>
</div>